var k=Object.defineProperty,S=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var N=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&N(e,n,t[n]);if(b)for(var n of b(t))L.call(t,n)&&N(e,n,t[n]);return e},x=(e,t)=>S(e,C(t));import{j as y,l as j,r as p,S as v,R as E}from"./vendor.2b437752.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};I();const r=y.exports.jsx,l=y.exports.jsxs,z=({listening:e})=>l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-5 h-5 mr-2 ${e?"text-green-500":"text-red-500"}`,children:[r("path",{d:"M7 4a3 3 0 016 0v6a3 3 0 11-6 0V4z"}),r("path",{d:"M5.5 9.643a.75.75 0 00-1.5 0V10c0 3.06 2.29 5.585 5.25 5.954V17.5h-1.5a.75.75 0 000 1.5h4.5a.75.75 0 000-1.5h-1.5v-1.546A6.001 6.001 0 0016 10v-.357a.75.75 0 00-1.5 0V10a4.5 4.5 0 01-9 0v-.357z"})]}),$=({cb:e})=>l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 cursor-pointer hover:text-gray-500 transition-colors",onClick:()=>{e()},children:[r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"}),r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});var u;(function(e){e.ADD_POINTS="dodaj",e.REMOVE_POINTS="cofnij",e.TELL_SCORE="wynik"})(u||(u={}));const R=(e,t,n,a,s)=>{const o=e.toLowerCase().split(" "),d=o.some(c=>Object.values(u).includes(c));if(console.log({result:d,transcript:e,keywords:o}),d&&e!=="")if(o.includes(n.name)&&o.includes(u.ADD_POINTS))s("one",{add:!0}),m(`Dodano punkt dla gracza ${n.name}`),t();else if(o.includes(a.name)&&o.includes(u.ADD_POINTS))s("two",{add:!0}),m(`Dodano punkt dla gracza ${a.name}`),t();else if(o.includes(n.name)&&o.includes(u.REMOVE_POINTS)){try{s("one",{add:!1}),m(`Odebrano punkt dla gracza ${n.name}`)}catch{m(`Gracz ${n.name} ma ju\u017C 0 punkt\xF3w`)}t()}else if(o.includes(a.name)&&o.includes(u.REMOVE_POINTS)){try{s("two",{add:!1}),m(`Odebrano punkt dla gracza ${a.name}`)}catch{m(`Gracz ${a.name} ma ju\u017C 0 punkt\xF3w`)}t()}else o.includes(u.TELL_SCORE)&&(m(`Wynik to ${n.name} ${n.score} ${a.name} ${a.score}`),t())},m=e=>{const t=new SpeechSynthesisUtterance;t.text=e,window.speechSynthesis.speak(t)},M=({players:{playerOne:e,playerTwo:t},setPlayers:n,setSettingsOpen:a})=>{const{transcript:s,listening:o,resetTranscript:d,browserSupportsSpeechRecognition:c}=j.useSpeechRecognition();if(!c)return r("span",{children:"Browser doesn't support speech recognition."});const w=(f,h)=>{if(f==="one"){if(!h.add&&e.score<=0)throw new Error("Negative score");n(i=>x(g({},i),{playerOne:{name:i.playerOne.name,score:h.add?i.playerOne.score+1:i.playerOne.score-1}}))}else if(f==="two"){if(!h.add&&t.score<=0)throw new Error("Negative score");n(i=>x(g({},i),{playerTwo:{name:i.playerTwo.name,score:h.add?i.playerTwo.score+1:i.playerOne.score-1}}))}else f==="reset"&&n(i=>({playerOne:{name:i.playerOne.name,score:0},playerTwo:{name:i.playerTwo.name,score:0}}))};return p.exports.useEffect(()=>{R(s,d,e,t,w)},[s]),l("div",{className:"bg-white rounded-xl w-96 pb-8",children:[l("div",{className:"flex justify-between p-4 align-center",children:[r(z,{listening:o}),r($,{cb:()=>a(!0)})]}),l("div",{className:"flex flex-col items-center justify-center h-full px-8",children:[l("div",{className:"flex items-center justify-around w-full",children:[l("div",{className:"flex flex-col items-center",children:[r("span",{className:"text-7xl",children:e.score}),r("span",{className:"text-2xl pt-2",children:e.name.toUpperCase()})]}),r("span",{className:"text-7xl pb-2",children:":"}),l("div",{className:"flex flex-col items-center",children:[r("span",{className:"text-7xl",children:t.score}),r("span",{className:"text-2xl pt-2",children:t.name.toUpperCase()})]})]}),l("div",{className:"flex gap-4 pt-16 items-center",children:[r("button",{className:` text-white font-bold py-2 px-4 rounded transition-colors ${o?"bg-gray-400":"bg-blue-500 hover:bg-blue-700"}`,onClick:()=>v.startListening({continuous:!0,language:"pl"}),disabled:o,children:"Start"}),r("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors",onClick:()=>v.stopListening(),children:"Stop"}),r("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors",onClick:()=>{d(),w("reset",{add:!0})},children:"Reset"})]})]})]})},D=({cb:e})=>r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 hover:mr-1 cursor-pointer transition-all",onClick:()=>{e()},children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),T=({setSettingsOpen:e,setPlayers:t})=>{const[n,a]=p.exports.useState(""),[s,o]=p.exports.useState(""),d=()=>{t(c=>({playerOne:{name:n.toLowerCase(),score:c.playerOne.score},playerTwo:{name:s.toLowerCase(),score:c.playerTwo.score}}))};return l("div",{className:"bg-white rounded-xl w-96 p-8",children:[l("div",{className:"pb-8 flex justify-between items-center",children:[r("span",{className:"text-2xl  font-light",children:"Ustawienia"}),r(D,{cb:()=>e(!1)})]}),l("div",{children:[l("div",{className:"mb-4",children:[r("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"p1",children:"Imi\u0119 pierwszego gracza"}),r("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"p1",type:"text",placeholder:"Imi\u0119",value:n,onChange:c=>a(c.currentTarget.value)})]}),l("div",{className:"mb-8",children:[r("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"p2",children:"Imi\u0119 drugiego gracza"}),r("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"p2",type:"text",placeholder:"Imi\u0119",value:s,onChange:c=>o(c.currentTarget.value)})]}),r("div",{className:"flex w-full justify-center",children:r("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 w-full rounded transition-colors",onClick:()=>{e(!1),d()},children:"Zapisz"})})]})]})};function V(){const[e,t]=p.exports.useState({playerOne:{name:"",score:0},playerTwo:{name:"",score:0}}),[n,a]=p.exports.useState(!0);return n?r(T,{setSettingsOpen:a,setPlayers:t}):r(M,{players:e,setPlayers:t,setSettingsOpen:a})}E.render(r(V,{}),document.getElementById("root"));
